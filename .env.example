# ──────────────────────────────────────────────────────────────────────────────
# UniFi Log Insight — Environment Variables
# Copy this file to .env and fill in the required values.
# ──────────────────────────────────────────────────────────────────────────────

# ── Required ──────────────────────────────────────────────────────────────────

# PostgreSQL password for the 'unifi' database user.
# Also used to derive the encryption key for the UniFi API key stored in the DB.
# Changing this after setup will require re-entering the UniFi API key.
POSTGRES_PASSWORD=changeme

# ── Timezone ──────────────────────────────────────────────────────────────────

# Must match your UniFi gateway's local time for correct syslog timestamps.
# See: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TZ=UTC

# ── Logging ───────────────────────────────────────────────────────────────────

# Verbosity: DEBUG, INFO, WARNING, ERROR, CRITICAL (default: INFO)
LOG_LEVEL=INFO

# ── AbuseIPDB ─────────────────────────────────────────────────────────────────

# Threat intelligence API key (free tier: 1000 checks/day).
# Sign up: https://www.abuseipdb.com/register
ABUSEIPDB_API_KEY=

# ── MaxMind GeoIP ─────────────────────────────────────────────────────────────

# Auto-update GeoIP databases. Sign up: https://www.maxmind.com/en/geolite2/signup
# Both values are required for auto-updates; without them, bundled DBs are used.
MAXMIND_ACCOUNT_ID=
MAXMIND_LICENSE_KEY=

# ── UniFi Controller API (Optional) ──────────────────────────────────────────

# These env vars override the equivalent settings in the UI.
# When both UNIFI_HOST and UNIFI_API_KEY are set, the integration auto-enables.

# Controller URL (e.g. https://192.168.1.1 or https://10.10.10.1)
UNIFI_HOST=

# API key generated in: Network > Settings > Control Plane > Integrations
UNIFI_API_KEY=

# Site name for multi-site controllers (default: "default")
UNIFI_SITE=default

# Set to false for self-signed certificates (default: true)
UNIFI_VERIFY_SSL=true

# Seconds between client/device poll cycles — Phase 2 (default: 300)
UNIFI_POLL_INTERVAL=300
